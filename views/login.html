{%extends "template.html"%} {%block title%}Login to Domanda {%endblock%}
{%block content%}

<center id="auth-widget">

  <h3 class="error">{{get_flashed_messages()[0]}}</h3>
</center>

<form action="{{url_for('Main.RouteAuth.logIn.LoginPage')}}" method="POST" class="loginForm" style="display: none">
  <input type="text" value="" name="account-token" />
  <input type="text" value="{{redirect}}" name="redirect" />
</form>
<script>

  window.addEventListener("load", () => {
    var authWidget = new firebaseui.auth.AuthUI(auth);
    authWidget.start("#auth-widget", {

      signInOptions: [

        firebase.auth.GoogleAuthProvider.PROVIDER_ID,
        "microsoft.com",
      ],
      callbacks: {
        signInSuccess: function (currentUser, credential, redirectUrl) {
          onSignIn(currentUser)
        }
      }
    })
  })
</script>
{%endblock%}
{%block header%}
<script src="https://www.gstatic.com/firebasejs/ui/6.0.0/firebase-ui-auth.js"></script>
<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.0/firebase-ui-auth.css" />

{%endblock%}